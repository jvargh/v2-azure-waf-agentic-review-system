export interface DocumentItem {
  id: string;
  filename: string;
  contentType: string;
  size: number;
  uploadedAt: string;
  category: 'architecture' | 'case' | 'diagram';
  aiInsights?: string;
  analysisMetadata?: any;
}

export interface Recommendation {
  id?: string;
  pillar: string;
  title: string;
  reasoning?: string;
  priority: 'Low' | 'Medium' | 'High' | 'Critical' | 'low' | 'medium' | 'high';
  insight?: string;
  recommendation?: string; // Explicit recommended action (how to fix)
  details: string;
  impact: string;
  business_impact?: string; // Enriched metric-driven impact (backend field)
  effort: 'Low' | 'Medium' | 'High';
  service?: string;
  azureService?: string;
  scoreRefs?: Record<string, number>;
  crossPillarConsiderations?: string[];
  source?: string;
}

export interface PillarScore {
  pillar: string;
  score?: number;
  overallScore?: number;
  categories?: { name: string; score: number }[];
  subcategories?: Record<string, number>;
  recommendations?: Recommendation[];
  confidence?: 'Low' | 'Medium' | 'High';
  // Added diagnostics & provenance fields from backend PillarResult
  scoreSource?: 'floor' | 'evidence' | 'elevated';
  coveragePct?: number;
  negativeMentions?: number;
}

export interface CrossPillarConflict {
  type: string;
  pillarA: string;
  pillarB: string;
  description: string;
  mitigation: string;
}

export interface Assessment {
  id: string;
  name: string;
  description?: string;
  createdAt: string;
  status: 'pending' | 'preprocessing' | 'analyzing' | 'aligning' | 'completed' | 'failed';
  progress: number; // 0-100
  currentPhase?: string;
  pillarStatuses?: Record<string, string>; // Per-pillar status (pending/analyzing/completed/failed)
  pillarProgress?: Record<string, number>; // Per-pillar progress (0-100)
  documents: DocumentItem[];
  unifiedCorpus?: string;
  pillarScores?: PillarScore[];
  pillarResults?: PillarScore[];
  crossPillarConflicts?: CrossPillarConflict[];
  overallArchitectureScore?: number;
  recommendations?: Recommendation[];
}
